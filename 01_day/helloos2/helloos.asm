; hello-os
; TAB=4

; 标准的FAT12格式软盘的专用代码

	DB		0xeb, 0x4e, 0x90
	DB		"HELLOIPL"		; 启动区的名字，无实质作用，(必须是８字节)
	DW		512				; 指定每个扇区的大小(必须为512字节)
	DB		1				; 簇的大小，必须为１个扇区
	DW		1				; FAT的起始位置
	DB		2				; FAT的个数[1]
	DW		224				; 根目录大小[2]
	DW		2880			; 磁盘的大小[3]
	DB		0xf0			; 磁盘的种类[4]
	DW		9				; FAT的长度[5]
	DW		18				; 一个磁道有几个扇区
	DW		2				; 磁头数
	DD		0				; 不使用分区时必须为0
	DD		2880			; 重写一次磁盘大小
	DB		0,0,0x29		; 意义不明确[6]
	DD		0xffffffff		; 卷标号码[7]
	DB		"HELLO-OS   "	; 磁盘的名称，必须是１１字节
	DB		"FAT12   "		; 磁盘格式名称[8]
	TIMES	18    DB   0	; 备用

;　程序主体

	DB		0xb8, 0x00, 0x00, 0x8e, 0xd0, 0xbc, 0x00, 0x7c
	DB		0x8e, 0xd8, 0x8e, 0xc0, 0xbe, 0x74, 0x7c, 0x8a
	DB		0x04, 0x83, 0xc6, 0x01, 0x3c, 0x00, 0x74, 0x09
	DB		0xb4, 0x0e, 0xbb, 0x0f, 0x00, 0xcd, 0x10, 0xeb
	DB		0xee, 0xf4, 0xeb, 0xfd

;　信息显示部分

	DB		0x0a, 0x0a		;　换行
	DB		"hello, world"
	DB		0x0a			;
	DB		0

	TIMES	0x1fe-($-$$) DB   0			; 不到0x001fe＝510填充为0

	DB		0x55, 0xaa					； 结束标志

;　启动区之外的代码

	DB		0xf0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00
	TIMES	4600   DB  0
	DB		0xf0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00
	TIMES	1469432  DB  0